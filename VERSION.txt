v5.2.0 (HIGHEST INTELLIGENCE & PLAN B) - 2025-12-15
- [NEW] Hedge Policy: Scored decision engine for hedging (Regime + Trend + Volatility).
- [NEW] Risk Governor: Circuit breakers for Daily Loss, Exposure, and News events.
- [NEW] Plan B (Reversion Escape): Auto-exit at break-even if hedging is blocked (Fakeout/Risk Veto).
- [NEW] Telemetry: Full JSONL recording of AI decisions and blocked entries.
- [NEW] Last Resort Close: Individual close retry loop for guaranteed exits.
- [OPTIMIZED] Market Data: Added Linear Regression Trend & Volume Z-Score.
- [FIXED] Telemetry logging for blocked entries.

v5.1.3 (GOD MODE & SELF-HEALING) - 2025-12-15
- [NEW] "God Mode" Liquidity Vacuum Recovery: Replaced simple time-based recovery with structure-based sniper logic.
- [NEW] Self-Healing Adoption: Bot now automatically detects and adopts orphan trades into active buckets to ensure full closure.
- [FIX] Enhanced bucket closure logic to prevent leaving trades behind.
- [FIX] Improved market data pipeline to support full candle history for structure analysis.

v5.1.2 (HEDGING LOGIC FIX) - 2025-12-15
- Fixed "Split Bucket" issue: Buys and Sells now correctly grouped in one bucket.
- Fixed "Invalid Stops" (10016): Improved TP validation logic.
- Fixed "Muscle" Timer: Calculated Recovery now triggers correctly after 15 mins.
- Tuned Gold TP: Increased minimum floor to 5 pips.

v5.1.1 (STABILITY & DOCS) - 2025-12-12
- [FIX] Runtime: Fixed UnboundLocalError in TradingEngine.
- [FIX] Runtime: Fixed AttributeError in PositionManager.
- [NEW] Momentum Exhaustion: Added Bollinger Band + RSI logic for smarter hedging.
- [DOCS] Architecture: Added comprehensive Graphviz DOT diagram (project_structure_final.dot).

v5.1 (INTELLIGENCE UPGRADE) - 2025-12-11
- [NEW] Hedge Intelligence (The Oracle): AI module to filter strategic hedges based on Regime/Trend.
- [NEW] Zero-Latency Closing: Parallel execution for bucket exits (~200ms total latency).
- [NEW] Smart Grid: Dynamic grid step calculation based on volatility.
- [NEW] Margin Shedding: Auto-closes neutral pairs (Winner/Loser) to free margin during critical drawdowns.
- [ENHANCED] Survival Mode: Tuned for >3 trades (Caution) and >5 trades (Emergency).

v5.0 (MAJOR UPGRADE) - 2025-12-11
- [NEW] Survival Mode: Dynamic TP reduction for heavy buckets to escape grid lock.
- [FIX] Stability: Fixed PositionState.ACTIVE crash in position_manager.py.
- [FIX] AI Core: Refactored architecture (Supervisor/Workers) and removed legacy modules.
- [FIX] Performance: Added GC tuning and High Priority process management.

v4.3.2 (STABILITY FIXES) - 2025-12-10
- [FIX] Windows Compatibility: Fixed UnicodeEncodeError in logging (removed emoji).
- [FIX] Startup: Added Torch pre-loading to prevent DLL hangs on Windows.
- [FIX] PositionManager: Added `magic` field to Position dataclass for correct close verification.

v4.3.1 (CRITICAL FIXES) - 2025-12-10
- [FIX] PositionManager: Added missing `calculate_net_pnl` method causing exit failures.
- [FIX] PositionManager: Fixed `IndentationError` and missing `asyncio` import.
- [FIX] TradingEngine: Fixed `AttributeError` (get_tick -> get_tick_data).
- [FIX] Dependencies: Added `psutil` for high-priority process scheduling.

v4.3.0
- Feature: Stalemate Breaker (Time-Decay for Deep Hedges)
- Feature: True Net PnL Logic (Profit + Swap + Commission)
- Feature: Aggressive Closer (Parallel Execution + Slippage Tolerance + Retries)
- Feature: Transparent PnL Logging
- Cleanup: Removed deprecated sequential closing logic